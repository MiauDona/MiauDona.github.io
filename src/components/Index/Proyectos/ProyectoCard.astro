---
import BotonPrimario from "../../Common/BotonPrimario.astro";
import BotonSecundario from "../../Common/BotonSecundario.astro";

interface Props {
  title: string;
  text: string;
  text2?: string;
  text3?: string;
  text4?: string;
  link: string;
  img?: string;
  tec: string;
  tec2?: string;
  tec3?: string;
  tec4?: string;
  tec5?: string;
  summary?: string;
}
const title = Astro.props.title;
const text = Astro.props.text;
const text2 = Astro.props.text2;
const text3 = Astro.props.text3;
const text4 = Astro.props.text4;
const link = Astro.props.link;
const img = Astro.props.img;
const tec = Astro.props.tec;
const tec2 = Astro.props.tec2;
const tec3 = Astro.props.tec3;
const tec4 = Astro.props.tec4;
const tec5 = Astro.props.tec5;
const summary = Astro.props.summary;

const alt = "Imagen de " + title.toLowerCase();

// todo: agregar imagenes de los proyectos
// todo: hacer que al pasar por encima se abra la descripcion completa y se cierre
---

<div
  class="card rounded-xl bg-white/5 backdrop-blur-sm border border-white/10 sm:px-12 sm:py-12 px-6 py-10 relative overflox-hidden"
>
{img && (
    <div
      class="absolute inset-0 bg-cover bg-center md:hidden rounded-xl"
      style={`background-image: url('${img}'); opacity: 0.25;`}
    ></div>
  )}

  <div
    class="flex sm:justify-between sm:items-center flex-col-reverse sm:flex-row gap-4 sm:gap-0 mb-4 relative z-5"
  >
    <h3 class="text-4xl sm:text-4xl">{title}</h3>
  </div>

  <div class="grid w-full md:grid-cols-2">
    
    {
      img && (
        <div class=" hidden md:flex h-full justify-center items-center mx-auto pr-6">
          <img class="rounded-lg aspect-video object-cover" src={img} alt={alt} />
        </div>
      )
    }
      <div class="text-xl md:flex md:justify-center md:items-center">
        <div>
          {summary && <p class="zilla-slab-regular mb-4">{summary}</p>}
          <BotonSecundario texto="Saber mÃ¡s" enlace={link} />
          <div id="tech-icons" class="flex sm:items-center gap-2 mt-4 ml-1">
            {
              tec && (
                <div>
                  {" "}
                  <img src={tec} alt="tec" class="h-6" loading="lazy" />{" "}
                </div>
              )
            }
            {
              tec2 && (
                <div>
                  {" "}
                  <img src={tec2} alt="tec2" class="h-6" loading="lazy" />{" "}
                </div>
              )
            }
            {
              tec3 && (
                <div>
                  {" "}
                  <img src={tec3} alt="tec3" class="h-6" loading="lazy" />{" "}
                </div>
              )
            }
            {
              tec4 && (
                <div>
                  {" "}
                  <img src={tec4} alt="tec4" class="h-6" loading="lazy" />{" "}
                </div>
              )
            }
            {
              tec5 && (
                <div>
                  {" "}
                  <img src={tec5} alt="tec5" class="h-6" loading="lazy" />{" "}
                </div>
              )
            }
          </div>

        </div>
      </div>
  </div>

  <div class="flex flex-col gap-4 hidden">
    <div class="text-xl gap-8">
      <div class="zilla-slab-regular gap-4 flex flex-col">
        {text && <p class="zilla-slab-regular">{text}</p>}
        {text2 && <p class="zilla-slab-regular">{text2}</p>}
        {text3 && <p class="zilla-slab-regular">{text3}</p>}
        {text4 && <p class="zilla-slab-regular">{text4}</p>}
      </div>
    </div>
    {
      link && (
        <div class="text-xl mt-4">
          <BotonPrimario texto="Ver Proyecto" enlace={link} />
        </div>
      )
    }
  </div>
</div>

<style>
  .card {
    height: max-content;
    width: 100%;
    border-radius: 16px;
    text-wrap: pretty;
  }

  @media (min-width: 768px) {
  .card {
    background-image: none !important;
  }
}
</style>
